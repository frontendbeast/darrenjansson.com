<section class="c-header">
  <div class="c-header__inner">
    <a class="c-header__link" data-link href="/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 675 324"><title>Darren Jansson</title><g  fill="#fff"><path d="M327.929 299.08c23.645 0 42.857-21.873 42.857-46.11 0-3.444-.301-6.783-.853-10.044 13.054-7.172 26.56-18.657 38.133-30.632 2.107 4.801 4.408 9.663 6.345 14.816-15.593 7.888-29.59 19.907-29.59 37.681 0 11.824 7.258 21.283 21.578 21.283 22.168 0 39.016-18.916 39.016-39.016 0-6.433-1.524-12.853-3.953-19.117 7.175-4.002 14.323-8.764 20.699-13.338a54.742 54.742 0 00-1.918 10.282c-2.29 26.09 13.232 46.426 38.959 45.218 18.672-.876 34.716-15.541 41.875-34.416.114.002.224.008.338.008 10.666 0 19.532-5.49 26.007-12.402a234.233 234.233 0 01-3.04 9.841c-10.639 31.917-.505 46.195 17.365 39.957 6.879-29.317 32.552-65.918 40.982-65.918 8.284 0-7.314 23.836-7.314 47.878 0 18.208 7.956 25.963 22.567 25.963 34.899 0 43.71-38.555 27.505-41.136-4.214 16.69-15.848 27.499-21.75 27.499-12.907 0 7.992-40.959 7.992-63.071 0-12.981-6.878-17.703-17.03-17.703-10.852 0-27.048 10.943-38.67 30.388 8.524-35.38-15.723-34.384-23.391-29.816-1.076 16.672-12.93 33.988-26.412 36.307 5.47-18.53 1.573-39.216-12.496-39.216-.703 0-1.435.076-2.177.225-5.892-5.981-13.998-9.346-24.052-8.874-9.426.442-18.871 4.158-26.47 10.762-9.43 8.198-27.042 20.955-44.785 30.479-4.24-7.76-9.36-15.113-14.04-21.744 4.577-6.883 7.341-13.285 7.341-18.396 0-7.095-4.566-12.664-13.597-11.232-7.43 1.177-14.115 9.55-14.115 23.233 0 3.795.596 7.426 1.559 10.98-9.943 12.282-21.636 24.012-36.308 32.176-4.353-12.762-11.91-24.764-19.165-37.882 6.876-5.796 9.877-12.844 9.877-18.394 0-6.206-3.547-13.005-14.187-11.528-9.628 1.338-19.156 17.23-13.89 38.594-8.464 17.886-24.028 44.188-35.052 44.188-12.911 0 2.454-31.182.418-53.294-1.196-12.982-8.506-17.702-18.66-17.702-10.03 0-22.721 11.837-32.03 29.742 3.366-30.108-19.42-27.012-26.691-22.681 1.36 32.367-15.51 71.41-29.072 71.41-9.675 0-4.383-18.151-4.104-30.733.404-18.314-13.256-20.414-24.163-13.597-1.396 14.428-13.18 42.039-23.304 42.039-15.612 0 1.575-69.606 45.168-49.554 4.684-8.786-.09-21.308-20.91-21.308-63.746 0-76.026 93.972-34.762 93.972 12.328 0 23.807-11.122 31.806-25.684 1.065 13.438 7.16 25.131 20.529 25.111 12.35-.017 23.536-8.001 33.105-28.259-1.548 18.532 7.659 26.055 21.53 21.212 6.878-29.317 24.394-71.102 32.824-71.102 12.445 0-25.15 66.89 19.165 66.89 19.821 0 37.888-27.106 48.221-46.732 2.3 7.992 4.852 17.43 6.62 26.686-18.218 7.754-34.598 18.432-34.598 34.221 0 15.076 10.936 21.59 22.168 21.59zm159.933-75.655c2.704-18.168 13.955-33.32 25.13-33.846 3.04-.142 5.762.815 8.06 2.647-2.645 4.053-4.465 9.72-4.465 17.172 0 8.787 2.928 16.925 9.442 21.753-4.531 13.611-13.704 23.792-22.828 24.22-12.248.575-18.042-13.778-15.34-31.946zm-81.463 48.757c-4.728 0-7.093-3.45-7.093-8.276 0-9.867 7.77-17.873 18.564-24.256 1.893 11.548 2.66 32.532-11.47 32.532zm-77.42 12.119c-3.546 0-8.144-1.471-8.144-7.722 0-6.446 6.068-14.789 21.25-21.968 1.736 16.331-.946 29.69-13.106 29.69zM56.348 67.41c-7.237-28.893 21.903-52.837 52.908-51.437 32.563 1.472 40.95 23.168 39.426 50.078-1.958 34.537-18.167 72.666-43.5 72.666-5.5 0-7.834-4-7.834-10.333 0-16.833 20-50.833 20-75.333 0-19-13.666-27-33.166-19.5 4.4 28.34-12.834 67.116-12.834 93.166 0 16.5 8.167 27.167 25.5 27.167 44.667 0 81.378-38.836 83.167-88.167 1.232-33.977-20.121-62.99-65.935-64.666C72.17-.481 27.544 24.07 27.544 56.456c0 17.304 16.403 21.545 28.804 10.953"/><path d="M629.76 100.572c-4.215 16.689-15.849 27.497-21.749 27.497-12.909 0 7.99-40.959 7.99-63.07 0-12.982-6.878-17.703-17.03-17.703-10.785 0-25.678 10.809-36.886 30.033 8.233-34.855-16.334-31.719-23.974-27.167-.674 25.795-24.446 66.426-56.985 66.426-8.18 0-16.556-4.827-16.388-17.915 3.636 3.652 7.905 4.596 11.668 4.596 23.037 0 38.86-22.64 38.86-35.959 0-15.822-11.21-22.88-25.71-22.88-21.37 0-40.76 17.67-47.875 38.038-8.634 24.718-24.356 35.188-30.28 35.188-11.844 0 3.469-32.427 13.922-51.478 6.991-12.741 4.87-26.478-11.633-25.625-9.255.477-16.855 1.305-27.039.39-.012-9.45-3.196-15.758-11.4-15.758-9.698 0-14.161 9.161-14.161 18.401 0 4.224 1.66 11.79 9.419 14.878-7.118 39.286-26.802 55.656-34.092 55.656-11.846 0 .901-26.868 11.354-45.92 6.991-12.74 4.872-26.431-11.633-25.624-10.293.502-18.51 1.248-27.89.396.865-8.726-2.345-15.974-10.718-15.974-8.221 0-14.161 7.815-14.161 18.444 0 5.998 1.704 12.522 10.421 14.992-3.64 20.582-15.092 50.97-26.261 50.97-9.443 0-3.724-17.714-3.452-29.994.396-17.876-13.864-18.396-24.51-11.742 1.306 11.185-12.49 39.5-22.37 39.5-3.728 0-5.406-4.474-5.406-11.371 0-23.861 22.795-48.257 49.49-35.979 4.57-8.574-.09-21.81-20.41-21.81-62.188 0-74.232 91.717-33.926 91.717 12.253 0 23.333-10.232 31.156-23.835 1.312 12.58 7.288 23.276 19.921 23.276 19.816 0 35.767-18.22 47.307-69.632 6.154-.068 12.25-.854 17.537-1.898-11.341 18.308-31.285 70.669 4.592 70.669 37.17 0 51.573-50.637 56.441-70.59 5.806-.249 11.231-.882 16.102-1.742-17.314 27.264-29.258 75.867 1.686 75.867 17.858 0 28.998-11.963 38.29-26.183 3.066 17.175 14.556 27.307 32.72 27.307 18.594 0 40.836-13.655 55.221-32.702-6.25 25.958 3.59 37.18 19.803 31.522 6.878-29.318 30.852-65.92 39.281-65.92 8.284 0-7.315 23.836-7.315 47.88 0 18.208 7.963 25.537 22.567 25.964 33.168.969 43.71-38.555 27.505-41.136zm-162.954-13.36c5.015-14.006 18.364-24.574 24.612-24.574 2.697 0 4.445 1.178 4.445 4.162 0 8.442-12.073 24.446-29.057 20.412zM130.91 169.512c0-4.327-3.09-10.44-12.673-10.44-9.186 0-16.638 4.457-22.874 12.396-46.827-8.924-95.286 5.09-95.286 38.536 0 18.98 15.23 23.183 27.903 17.619-3.5-21.878 10.075-41.827 57.601-44.002-32.68 40.552-21.117 122.984-49.254 122.984-12.364 0-10.202-25.106 3.09-40.869-6.789-8.061-34.229-4.741-34.229 29.09 0 16.793 12.401 28.711 31.447 28.711 60.468 0 52.396-105.434 69.185-140.44 12.732-.852 25.09-3.821 25.09-13.585"/></g></svg>
    </a>
    <Hamburger />
  </div>
  <nav class="c-nav">
    <ul class="c-nav__list">
      <li class="c-nav__list-item"><Link class="c-nav__link" data-link href="/about">About</Link></li>
      <li class="c-nav__list-item"><Link class="c-nav__link" data-link href="/skills">Skills</Link></li>
      <li class="c-nav__list-item"><Link class="c-nav__link" href="#">Work</Link></li>
      <li class="c-nav__list-item"><Link class="c-nav__link" href="#">Contact</Link></li>
    </ul>
  </nav>
</section>

<script>
  import { onMount } from 'svelte';

  import Hamburger from './hamburger.svelte';
  import Link from './link.svelte';

  onMount(() => {
    const body = document.querySelector('body');
    const links = document.querySelectorAll('[data-link]');

    const onLinkClick = () => {
      body.classList.remove('nav-open');
    }

    links.forEach(link => {
      link.addEventListener('click', onLinkClick);
    });
  });

</script>

<style lang="scss">
  .c-header {
    background-color: var(--color-black-trans);
    backdrop-filter: blur(10px);
    clip-path: polygon(0% 0%, 100% 0%, 100% calc(100% - 5vh), 0% 100%);
    display: flex;
    flex-direction: column;
    height: 0;
    min-height: 105px;
    position: fixed;
    transition: all 0.5s ease-in-out;
    width: 100%;
    z-index: 2;

    :global(.nav-open) & {
      background-color: var(--color-black-trans-dark);
      clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
      height: 100vh;
    }
  }
  
    .c-header__inner {
      box-sizing: border-box;
      display: flex;
      justify-content: space-between;
      margin-left:  auto;
      margin-right: auto;
      max-width: var(--width-content-max);
      padding: 2vh 1rem;
      width: 100%;
    }

    .c-header__link {
      display: block;
      width: clamp(100px,25%, 140px);
    }

  .c-nav {
    align-items: center;
    display: flex;
    flex-grow: 1;
    justify-content: center;
    overflow: hidden;
  }

    .c-nav__list {
      list-style: none;
      margin: -105px 0 0 0;
      padding: 0;
      text-align: center;
    }

    .c-nav__list-item {
      top: -5vh;
      opacity: 0;
      position: relative;
      transition: top 0.5s ease-in-out 0.5s, opacity 0.5s ease-in-out;

      & + & {
        margin-top: 1rem;
      }

      :global(.nav-open) & {
        top: 0;
        opacity: 1;
        transition: top 0.5s ease-in-out 0.35s, opacity 0.5s ease-in-out 0.35s;

        &:nth-of-type(2) {
          transition: top 0.5s ease-in-out 0.45s, opacity 0.5s ease-in-out 0.45s;
        }

        &:nth-of-type(3) {
          transition: top 0.5s ease-in-out 0.55s, opacity 0.5s ease-in-out 0.55s;
        }

        &:nth-of-type(4) {
          transition: top 0.5s ease-in-out 0.65s, opacity 0.5s ease-in-out 0.65s;
        }

        &:nth-of-type(4) {
          transition: top 0.5s ease-in-out 0.75s, opacity 0.5s ease-in-out 0.75s;
        }
      }
    }

    :global(.c-nav__link) {
      font-size: 1.4rem;
      letter-spacing: 0.2rem;
      padding: 0.5rem;
      text-transform: uppercase;
    }
</style>